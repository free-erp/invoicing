<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN"        "http://www.springframework.org/dtd/spring-beans.dtd"><beans>	<!-- derby jdbc datasource -->	<!-- jdbc 适用于单机版程序 tomcat...-->	<!--		<bean id="dataSource"		class="org.apache.commons.dbcp.BasicDataSource">		<property name="driverClassName"		value="org.apache.derby.jdbc.EmbeddedDriver">		</property>		<property name="url" value="jdbc:derby:c:/derbydb/erp"></property>		</bean>	-->	<bean id="dataSource"		class="org.free_erp.service.clientservice.ClientDataSource">	</bean>	<!--		<bean id="dataSource"		class="org.free_erp.service.clientservice.ClientDataSourceFactory"		factory-method="createDataSource" />	-->	<!-- end jdbc -->	<!-- jndi web tomcat version-->	<!--		<bean id="dataSource"		class="org.springframework.jndi.JndiObjectFactoryBean">		<property name="jndiName">		<value>java:comp/env/jdbc/bserver</value>		</property>		</bean>	-->	<!-- end jndi -->	<bean id="sessionFactory"		class="org.springframework.orm.hibernate3.LocalSessionFactoryBean">		<property name="dataSource">			<ref bean="dataSource" />		</property>		<property name="hibernateProperties">			<props>				<prop key="hibernate.dialect">					org.hibernate.dialect.DerbyDialect				</prop>				<prop key="hibernate.show_sql">false</prop>			</props>		</property>		<property name="mappingResources">			<list>				<value>config/derby/System.hbm.xml</value>				<value>config/derby/Company.hbm.xml</value>				<value>config/derby/Product.hbm.xml</value>				<value>config/derby/Customer.hbm.xml</value>				<value>config/derby/Employee.hbm.xml</value>				<value>config/derby/Storage.hbm.xml</value>                <value>config/derby/OptionSet.hbm.xml</value>                <value>config/derby/Purchase.hbm.xml</value>                <value>config/derby/Sale.hbm.xml</value>                <value>config/derby/Accounting.hbm.xml</value>			</list>		</property>	</bean>	<!-- end derby -->	<!-- mysql -->	<!--jndi java:jdbc/erp  -->	<!--		<bean id="dataSource"		class="org.springframework.jndi.JndiObjectFactoryBean">		<property name="jndiName">		<value>java:jdbc/erp</value>		</property>		</bean>	-->	<!--		<bean id="dataSource"		class="org.apache.commons.dbcp.BasicDataSource">		<property name="driverClassName"		value="com.mysql.jdbc.Driver">		</property>		<property name="url" value="jdbc:mysql://192.168.1.10:3306/erp?useUnicode=true&amp;characterEncoding=UTF-8"></property>		<property name="username" value="erp_user"></property>		<property name="password" value="erp_user"></property>		</bean>	-->	<!--		<bean id="sessionFactory"		class="org.springframework.orm.hibernate3.LocalSessionFactoryBean">		<property name="dataSource">		<ref bean="dataSource" />		</property>		<property name="hibernateProperties">		<props>		<prop key="hibernate.dialect">		org.hibernate.dialect.MySQLDialect		</prop>		<prop key="show_sql">true</prop>		</props>		</property>		<property name="mappingResources">		<list>		<value>config/mysql/System.hbm.xml</value>		<value>config/mysql/Company.hbm.xml</value>		<value>config/mysql/Product.hbm.xml</value>		<value>config/mysql/Customer.hbm.xml</value>		<value>config/mysql/Employee.hbm.xml</value>		<value>config/mysql/Storage.hbm.xml</value>		</list>		</property>		</bean>	-->	<!-- end mysql -->	<!-- common -->	<bean name="systemManageService"		class="org.free_erp.service.logic.SystemManageServiceImpl">		<property name="dao">			<ref bean="sysDao" />		</property>        <property name="utilities">			<ref bean="baseDao" />		</property>        <property name="baseDao">			<ref bean="accountingBaseDao" />		</property>	</bean>    	<bean name="IManagerService"		class="org.free_erp.service.logic.ManagerServiceImpl">		  <property name="utilities">			<ref bean="baseDao" />            </property>          <property name="managerDao">            <ref bean="IManagerDao" />         </property>	</bean>	<bean name="employeeService"		class="org.free_erp.service.logic.EmployeeServiceImpl">		<property name="dao">			<ref bean="baseDao" />		</property>        <property name="systemManageService">			<ref bean="systemManageService" />		</property>	</bean>	<bean name="employeeDao"		class="org.free_erp.service.dao.base.EmployeeDaoImpl">		<property name="sessionFactory">			<ref bean="sessionFactory" />		</property>	</bean>     <bean name="permissionsService"		class="org.free_erp.service.logic.PermissionsServiceImpl">        <property name="dao">            <ref bean="psDao" />        </property>    </bean>       <bean name="IStorageReportService"		class="org.free_erp.service.logic.StorageReportServiceImpl">        <property name="dao">            <ref bean="SRDao" />        </property>    </bean>	<bean name="productService"		class="org.free_erp.service.logic.ProductServiceImpl">		<property name="dao">			<ref bean="baseDao" />		</property>		<property name="companyService">			<ref bean="companyService" />		</property>        <property name="systemManageService">			<ref bean="systemManageService" />		</property>	</bean>	<bean name="saleService"		class="org.free_erp.service.logic.SaleServiceImpl">		<property name="dao">			<ref bean="saleDao" />		</property>           <property name="utilities">			<ref bean="baseDao" />		</property>        	<property name="companyService">			<ref bean="companyService" />            </property>        <property name="systemManageService">			<ref bean="systemManageService" />		</property>            <property name="accountingService">			<ref bean="accountingService" />		</property>            <property name="productService">			<ref bean="productService"/>		</property>        <property name="storageService">			<ref bean="storageService"/>		</property>	</bean>	<bean name="customerService"		class="org.free_erp.service.logic.CustomerServiceImpl">		<property name="dao">			<ref bean="baseDao" />		</property>        <property name="systemManageService">			<ref bean="systemManageService" />		</property>	</bean>	<bean name="storageService"		class="org.free_erp.service.logic.StorageServiceImpl">		<property name="dao">			<ref bean="baseDao" />		</property>        <property name="systemManageService">			<ref bean="systemManageService" />		</property>	</bean>    <bean name="optionSetService"        class="org.free_erp.service.logic.OptionSetServiceImpl">        <property name="dao">            <ref bean="setDao"/>        </property>    </bean>    <bean name="purchaseService"        class="org.free_erp.service.logic.purchase.PurchaseServiceImpl">        <property name="dao">            <ref bean="purchaseDao"/>        </property>        <property name="utilities">			<ref bean="baseDao" />		</property>        <property name="systemManageService">			<ref bean="systemManageService" />		</property>        <property name="storageService">			<ref bean="storageService" />		</property>        <property name="accountingService">			<ref bean="accountingService" />		</property>    </bean>	<bean name="companyService"		class="org.free_erp.service.logic.CompanyServiceImpl">		<property name="dao">			<ref bean="companyDao" />		</property>		<property name="storageDao">			<ref bean="baseDao" />		</property>	</bean>    <bean name="accountingService"		class="org.free_erp.service.logic.AccountingServiceImpl">		<property name="baseDao">			<ref bean="accountingBaseDao" />		</property>        <property name="formDao">			<ref bean="accountingFormDao" />		</property>        <property name="utilities">			<ref bean="baseDao" />		</property>        <property name="managerDao">            <ref bean="IManagerDao" />         </property>        <property name="systemManageService">			<ref bean="systemManageService" />		</property>	</bean>   	<bean name="baseDao" class="org.free_erp.service.dao.base.BaseDaoImpl">		<property name="sessionFactory">			<ref bean="sessionFactory" />		</property>	</bean>    <bean name="accountingBaseDao" class="org.free_erp.service.dao.accounting.AccountingBaseDaoImpl">		<property name="sessionFactory">			<ref bean="sessionFactory" />		</property>	</bean>    <bean name="accountingFormDao" class="org.free_erp.service.dao.accounting.AccountingFormDaoImpl">		<property name="sessionFactory">			<ref bean="sessionFactory" />		</property>	</bean>  <bean name="IManagerDao" class="org.free_erp.service.dao.system.ManagerDaoImpl">		<property name="sessionFactory">			<ref bean="sessionFactory" />		</property>	</bean>    <bean name="setDao" class="org.free_erp.service.dao.base.OptionSetDaoImpl">		<property name="sessionFactory">			<ref bean="sessionFactory" />		</property>	</bean>    <bean name="psDao" class="org.free_erp.service.dao.system.PermissionsDaoImpl">        <property name="sessionFactory">            <ref bean="sessionFactory" />        </property>    </bean>    <bean name="purchaseDao" class="org.free_erp.service.dao.purchase.PurchaseDaoImpl">		<property name="sessionFactory">			<ref bean="sessionFactory" />		</property>        <property name="systemManageService">			<ref bean="systemManageService" />		</property>	</bean>    <bean name="saleDao" class="org.free_erp.service.dao.system.SaleDaoImpl">		<property name="sessionFactory">			<ref bean="sessionFactory" />		</property>          <property name="systemManageService">			<ref bean="systemManageService" />		</property>	</bean>	<bean name="sysDao"		class="org.free_erp.service.dao.system.SystemManageDaoImpl">		<property name="sessionFactory">			<ref bean="sessionFactory" />		</property>	</bean>    	<bean name="SRDao"		class="org.free_erp.service.dao.system.StorageReportDaoImpl">		<property name="sessionFactory">			<ref bean="sessionFactory" />		</property>	</bean>	<bean name="companyDao"		class="org.free_erp.service.dao.system.CompanyDaoImpl">		<property name="sessionFactory">			<ref bean="sessionFactory" />		</property>	</bean>	<!--		<bean name="productDao"		class="org.free_erp.service.dao.base.ProductDaoImpl">		<property name="sessionFactory">		<ref bean="sessionFactory" />		</property>		</bean>		<bean name="storageDao"		class="org.free_erp.service.dao.base.StorageDaoImpl">		<property name="sessionFactory">		<ref bean="sessionFactory" />		</property>		</bean>		<bean name="customerDao"		class="org.free_erp.service.dao.base.CustomerDaoImpl">		<property name="sessionFactory">		<ref bean="sessionFactory" />		</property>		</bean>	-->	<!-- web services -->	<!--import resource="classpath:org/codehaus/xfire/spring/xfire.xml" /-->	<!--		<bean id="xfire.annotationServiceFactory"		class="org.codehaus.xfire.annotations.AnnotationServiceFactory">		<constructor-arg index="0">		<ref bean="xfire.commonsAnnotations" />		</constructor-arg>		<constructor-arg index="1">		<ref bean="xfire.transportManager" />		</constructor-arg>		<constructor-arg index="2">		<ref bean="xfire.aegisBindingProvider" />		</constructor-arg>		</bean>		<bean id="xfire.commonsAnnotations"		class="org.codehaus.xfire.annotations.jsr181.Jsr181WebAnnotations" />	-->	<!--		<bean name="/SystemManageService"		class="org.codehaus.xfire.spring.remoting.XFireExporter">		<property name="serviceBean" ref="systemManageService" />		<property name="serviceClass">		<value>org.free_erp.service.logic.SystemManageServiceImpl</value>		</property>		<property name="serviceFactory">		<ref bean="xfire.annotationServiceFactory" />		</property>		<property name="name">		<value>SystemManageService</value>		</property>		</bean>	-->	<!--		<bean name="/HelloService"		class="org.codehaus.xfire.spring.remoting.XFireExporter">		<property name="serviceBean" ref="hello" />		<property name="serviceClass">		<value>org.free_erp.service.logic.Hello</value>		</property>		<property name="serviceFactory">		<ref bean="xfire.annotationServiceFactory" />		</property>		<property name="name">		<value>HelloService</value>		</property>		</bean>	-->    <!--	<bean id="wsLoginService"		class="org.free_erp.service.logic.WSLoginServiceImpl">		<property name="service">			<ref bean="systemManageService" />		</property>	</bean>	<bean id="webLoginService"		class="org.codehaus.xfire.spring.remoting.XFireExporter">		<property name="serviceFactory" ref="xfire.serviceFactory" />		<property name="xfire" ref="xfire" />		<property name="serviceBean" ref="wsLoginService" />		<property name="serviceClass"			value="org.free_erp.service.logic.IWSLoginService" />		<property name="name" value="LoginService" />	</bean>	<bean id="webSystemManageService"		class="org.codehaus.xfire.spring.remoting.XFireExporter">		<property name="serviceFactory" ref="xfire.serviceFactory" />		<property name="xfire" ref="xfire" />		<property name="serviceBean" ref="systemManageService" />		<property name="serviceClass"			value="org.free_erp.service.logic.ISystemManageService" />		<property name="name" value="SystemManageService" />		<property name="inHandlers">			<list>				<ref bean="loginHandler" />			</list>		</property>	</bean>	<bean id="webProductService"		class="org.codehaus.xfire.spring.remoting.XFireExporter">		<property name="serviceFactory" ref="xfire.serviceFactory" />		<property name="xfire" ref="xfire" />		<property name="serviceBean" ref="productService" />		<property name="serviceClass"			value="org.free_erp.service.logic.IProductService" />		<property name="name" value="ProductService" />		<property name="inHandlers">			<list>				<ref bean="loginHandler" />			</list>		</property>	</bean>	<bean id="webCustomerService"		class="org.codehaus.xfire.spring.remoting.XFireExporter">		<property name="serviceFactory" ref="xfire.serviceFactory" />		<property name="xfire" ref="xfire" />		<property name="serviceBean" ref="customerService" />		<property name="serviceClass"			value="org.free_erp.service.logic.ICustomerService" />		<property name="name" value="CustomerService" />		<property name="inHandlers">			<list>				<ref bean="loginHandler" />			</list>		</property>	</bean>	<bean id="loginHandler"		class="org.free_erp.service.env.AuthenticationHandler">		<property name="service">			<ref bean="systemManageService" />		</property>	</bean>-->	<!--  webservice test!-->    <!--	<bean id="webHelloService"		class="org.codehaus.xfire.spring.remoting.XFireExporter">		<property name="serviceFactory" ref="xfire.serviceFactory" />		<property name="xfire" ref="xfire" />		<property name="serviceBean" ref="hello" />		<property name="serviceClass"			value="org.free_erp.service.logic.IHello" />		<property name="name" value="HelloService" />	</bean>        <bean name="hello" class="org.free_erp.service.logic.Hello"></bean>    --></beans>